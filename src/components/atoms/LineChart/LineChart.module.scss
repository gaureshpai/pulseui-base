@use "../../../styles/_tokens.scss" as *;

.chartContainer {
  background-color: var(--color-surface);
  border: var(--border-width-thin) solid var(--color-border-secondary);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  color: var(--color-text-primary);

  // Bind MUI X Charts CSS vars to design tokens at container scope
  --ChartsAxis-labelColor: var(--chart-axis-label-color);
  --ChartsAxis-tickLabelColor: var(--chart-axis-label-color);
  --ChartsAxis-lineColor: var(--chart-grid-color);
  --ChartsGrid-lineColor: var(--chart-grid-color);
  --ChartsLegend-labelColor: var(--chart-legend-label-color);
  --ChartsTooltip-background: var(--chart-tooltip-background);
  --ChartsTooltip-textColor: var(--chart-tooltip-text);
  --ChartsTooltip-border: var(--chart-tooltip-border);
}

// Ensure dark mode containers inherit correct colors regardless of placement
:where([data-theme="dark"], [data-mode="dark"]) .chartContainer {
  color: var(--color-text-primary);
}

// Force SVG text/lines to use token colors (final override)
.chartContainer :global(svg text) {
  fill: var(--chart-axis-label-color) !important;
  color: var(--chart-axis-label-color) !important;
}

.chartContainer :global(.MuiChartsLegend-root) text,
.chartContainer :global(.MuiChartsLegend-label) {
  fill: var(--chart-legend-label-color) !important;
  color: var(--chart-legend-label-color) !important;
}

.chartContainer :global(.MuiChartsAxis-line),
.chartContainer :global(.MuiChartsAxis-tick line),
.chartContainer :global(.MuiChartsAxisHighlight-root line) {
  stroke: var(--chart-grid-color) !important;
}

.chartTitle {
  margin: 0 0 var(--spacing-sm) 0;
  color: var(--color-text-primary);
  font-size: var(--font-size-lg);
  line-height: var(--line-height-lg);
}
